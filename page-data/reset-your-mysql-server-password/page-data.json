{"componentChunkName":"component---src-templates-blog-post-js","path":"/reset-your-mysql-server-password/","result":{"data":{"site":{"siteMetadata":{"title":"Luciano Mammino \"Loige\" - Cloud developer, entrepreneur, fighter, butterfly maker!","author":"Luciano Mammino","siteUrl":"https://loige.co","twitterProfile":"loige","disqusShortName":"loige"}},"markdownRemark":{"id":"59d0b2bc-5528-55c2-a59a-b1a404b4d810","fileAbsolutePath":"/home/circleci/loige.co/content/posts/2014-03-30_reset-your-mysql-server-password/index.md","excerpt":"Few days ago I learned an interesting trick that allows you to reset the password on a MySql server. This trick is pretty useful in case you…","timeToRead":2,"headings":[{"value":"1. Stop the mysql daemon","depth":4},{"value":"2. Disable the security checks","depth":4},{"value":"3. Login as root","depth":4},{"value":"4. Change the root password","depth":4},{"value":"5. Restart MySql","depth":4}],"html":"<p>Few days ago I learned an interesting trick that allows you to reset the password on a MySql server. This trick is pretty useful in case you have lost (or you haven’t ever had) the password of your MySql root user.</p>\n<p>You just need to throw some commands at the console. Note that I am assuming you are using Ubuntu or some other Debian derivate. Otherwise the commands may change a bit (but not to much I believe).</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 798px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.546875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBv/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAc+tJ5Q5QH//xAAXEAADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEBAAEFAmZGOf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAABIP/aAAgBAQAGPwKUf//EABoQAAMAAwEAAAAAAAAAAAAAAAABERAhMWH/2gAIAQEAAT8hTWCcUbOhoSL0j//aAAwDAQACAAMAAAAQ1w//xAAVEQEBAAAAAAAAAAAAAAAAAAAQMf/aAAgBAwEBPxCn/8QAFhEBAQEAAAAAAAAAAAAAAAAAIRAR/9oACAECAQE/EHCf/8QAHRABAAICAgMAAAAAAAAAAAAAAQARITFBUYGx0f/aAAgBAQABPxAz0xMtHkTEfYDomIN4uIiuXUS4W7G+7fk//9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/9d1b242fecb7ffa4d61c0912091863c7/8d3d1/password_reset.webp 256w,\n/static/9d1b242fecb7ffa4d61c0912091863c7/354cf/password_reset.webp 512w,\n/static/9d1b242fecb7ffa4d61c0912091863c7/bf233/password_reset.webp 798w\"\n          sizes=\"(max-width: 798px) 100vw, 798px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/9d1b242fecb7ffa4d61c0912091863c7/b95e4/password_reset.jpg 256w,\n/static/9d1b242fecb7ffa4d61c0912091863c7/1779b/password_reset.jpg 512w,\n/static/9d1b242fecb7ffa4d61c0912091863c7/4bc6e/password_reset.jpg 798w\"\n          sizes=\"(max-width: 798px) 100vw, 798px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/9d1b242fecb7ffa4d61c0912091863c7/4bc6e/password_reset.jpg\"\n          alt=\"Reset your MySql server password\"\n          title=\"Reset your MySql server password\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n    </span></p>\n<h4 id=\"1-stop-the-mysql-daemon\" style=\"position:relative;\"><a href=\"#1-stop-the-mysql-daemon\" aria-label=\"1 stop the mysql daemon permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Stop the mysql daemon</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> /etc/init.d/mysql stopRun</code></pre></div>\n<h4 id=\"2-disable-the-security-checks\" style=\"position:relative;\"><a href=\"#2-disable-the-security-checks\" aria-label=\"2 disable the security checks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Disable the security checks</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">mysqld_safe --skip-grant-tables <span class=\"token operator\">&amp;</span></code></pre></div>\n<p>The <a href=\"http://dev.mysql.com/doc/refman/5.0/en/mysqld-safe.html\">mysqld_safe</a> command will essentially restarts your MySql server but with the option <code>--skip-grant-tables</code> it also disables the grant tables used for authentication. You might think that this way the MySql server will deny every access attempt, but it will do the very contrary: it will allow any!\nThat’s in fact where the trick lies: this way we are able to login to MySql as root (even if we don’t know the password) and edit the MySql users table to reset the root user password.</p>\n<p>Yeah, I didn’t think this was possible before discovering it. But it is, and, even if it feels “insecure”, it might be useful in cases like this.</p>\n<h4 id=\"3-login-as-root\" style=\"position:relative;\"><a href=\"#3-login-as-root\" aria-label=\"3 login as root permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Login as root</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">mysql -u root -p mysql</code></pre></div>\n<p>It will ask you for a password… Yes, you get it! You can enter whatever you want and it will always grant you access as root!\nThe last argument (<code>mysql</code>) specifies you want to access the MySql internal database (where user credentials are stored).</p>\n<h4 id=\"4-change-the-root-password\" style=\"position:relative;\"><a href=\"#4-change-the-root-password\" aria-label=\"4 change the root password permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Change the root password</h4>\n<p>You’re using the MySql shell now. Just run:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">update</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">set</span> password<span class=\"token operator\">=</span>PASSWORD<span class=\"token punctuation\">(</span><span class=\"token string\">\"NEW-ROOT-PASSWORD\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">where</span> <span class=\"token keyword\">User</span><span class=\"token operator\">=</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">exit</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>You need to change the <code>\"NEW-ROOT-PASSWORD\"</code> with a password of your choice (obviously).</p>\n<h4 id=\"5-restart-mysql\" style=\"position:relative;\"><a href=\"#5-restart-mysql\" aria-label=\"5 restart mysql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Restart MySql</h4>\n<p>You’re back in your bash shell:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">service</span> mysql restart</code></pre></div>\n<p>This will restart the MySql server and will enable the security checks again.</p>\n<p>So that’s all! You can now login into your MySql server with the new password! And try to not lose it again, at least for a while ;)</p>","frontmatter":{"title":"Reset your MySql server password","meta_description":null,"slug":"reset-your-mysql-server-password","author":"Luciano Mammino","tags":["security","mysql","server"],"date":"March 30, 2014","dateISO":"2014-03-30T09:07:56.000Z","header_img":{"publicURL":"/static/8ecbcf4197f4bf2923cd233288a6171a/reset-your-mysql-server-password.png"},"fb_img":{"publicURL":"/static/6fe315157cd4f9a51cfe8749bc8c279a/reset-your-mysql-server-password-fb.png"},"tw_img":{"publicURL":"/static/07ed31f0abd523b39fb50bb95e4fb9b5/reset-your-mysql-server-password-tw.png"},"written_with":null}}},"pageContext":{"tags":["security","mysql","server"],"slug":"reset-your-mysql-server-password","previous":{"timeToRead":8,"excerpt":"In this article I will show you how to set up a stand alone command line application by using the Symfony Console component and Pimple.  Writing console commands for Symfony (full stack framework) is easy and enjoyable. It helps a lot when you need to handle particular collateral tasks that are needed, in a way or another, to make your website running (processing and crunching data, make async requests, create reports, etc.). Anyway I discovered that writing stand alone command line applications using only…","fields":{"slug":"write-a-console-application-using-symfony-and-pimple"},"frontmatter":{"date":"15 March, 2014","title":"Write a console application using Symfony and Pimple","tags":["php","symfony","console","pimple"],"header_img":{"publicURL":"/static/91044114dc4bd9465a594a9032eb4924/write-a-console-application-using-symfony-and-pimple.png"}}},"next":{"timeToRead":1,"excerpt":"I have finally got my invitation to try the new text editor Atom.io. Atom is built with web technologies (node.js in it’s core) by the folks at GitHub and it’s somewhat very similar to the famous SublimeText.\nIn my opinion it seems very promising (even if it’s significantly slower than SublimeText), anyway I have to try it a lot more before shaping a serious opinion about it.  The point of this topic is that Atom.io is currently in closed beta and I have received 3 invitations to share with whom is willing…","fields":{"slug":"3-invitations-to-try-atom-io"},"frontmatter":{"date":"09 April, 2014","title":"3 invitations to try Atom.io","tags":["atom-io"],"header_img":{"publicURL":"/static/4859ca3c8042da5689f0d401615827b2/3-invitations-to-try-atom-io.png"}}},"similar":[{"slug":"using-lets-encrypt-and-certbot-to-automate-the-creation-of-certificates-for-openvpn","title":"Using Let’s Encrypt and Certbot to automate the creation of certificates for OpenVPN","publishedAt":"19 June, 2017","score":1},{"slug":"gulp-and-ftp-update-a-website-on-the-fly","title":"Gulp and FTP: update a website \"on the fly\"","publishedAt":"25 October, 2015","score":1},{"slug":"versioning-and-deploying-a-static-website-with-git-flightplan-and-nginx","title":"Versioning and deploying a static website with Git, Flightplan and Nginx","publishedAt":"08 September, 2015","score":1},{"slug":"8-invitations-to-try-keybase-io","title":"8 invitations to try Keybase.io","publishedAt":"26 May, 2015","score":1},{"slug":"developing-a-web-application-with-lumen-and-mysql","title":"Developing a web application with Lumen and MySql","publishedAt":"18 April, 2015","score":1}]}},"staticQueryHashes":[]}